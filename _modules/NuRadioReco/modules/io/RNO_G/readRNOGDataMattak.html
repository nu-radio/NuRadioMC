<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NuRadioReco.modules.io.RNO_G.readRNOGDataMattak &mdash; NuRadio 2.3.0-dev documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/styling.css" />

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="../../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../../main.html" class="icon icon-home">
            NuRadio
              <img src="../../../../../_static/logo_small.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.3.0-dev
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../Introduction/pages/welcome_page.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../Introduction/pages/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../Introduction/pages/installation.html">Installing NuRadioMC / NuRadioReco</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../Introduction/pages/installation.html#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../Introduction/pages/installation.html#installation-using-pip">Installation using <code class="docutils literal notranslate"><span class="pre">pip</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../Introduction/pages/installation.html#development-version">Development version</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../Introduction/pages/installation.html#pythonpath">PYTHONPATH</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../Introduction/pages/installation.html#manual-installation">Manual installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../Introduction/pages/installation.html#pip-installable-dependencies">Pip-installable dependencies</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../Introduction/pages/installation.html#core-dependencies">Core Dependencies</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../Introduction/pages/installation.html#optional-dependencies">Optional Dependencies</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../Introduction/pages/installation.html#not-pip-installable-packages">Not pip-installable packages</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../Introduction/pages/conventions.html">Some notes on conventions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../Introduction/pages/conventions.html#coordinates">Coordinates</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../Introduction/pages/conventions.html#default-coordinate-system">Default coordinate system</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../Introduction/pages/conventions.html#points">Points</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../Introduction/pages/conventions.html#angles">Angles</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../Introduction/pages/conventions.html#directions">Directions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../Introduction/pages/conventions.html#electic-fields">Electic Fields</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../Introduction/pages/conventions.html#units">Units</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../Introduction/pages/conventions.html#particle-types">Particle types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../Introduction/pages/conventions.html#fourier-transformations">Fourier transformations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../Introduction/pages/contributing.html">Contributing to NuRadioMC</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../Introduction/pages/contributing.html#workflow">Workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../Introduction/pages/contributing.html#coding-conventions">Coding conventions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../Introduction/pages/contributing.html#how-to">How to</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../Introduction/pages/contributing.html#writing-docstrings">Writing docstrings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../Introduction/pages/contributing.html#update-the-version-number-dependencies">Update the version number / dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../Introduction/pages/contributing.html#writing-additional-documentation">Writing additional documentation</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../Introduction/pages/contributing.html#compiling-the-documentation">Compiling the documentation</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../Introduction/pages/contributing.html#headings-and-text">Headings and text</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../Introduction/pages/contributing.html#lists">Lists</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../Introduction/pages/contributing.html#links-and-cross-references">Links and cross-references</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../Introduction/pages/contributing.html#showing-code">Showing code</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../NuRadioReco/pages/welcome_page.html">NuRadioReco Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../NuRadioReco/pages/event_structure.html">Data Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioReco/pages/event_structure.html#nur-files-and-how-to-use-them">.nur Files and How to Use Them</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/event_structure.html#philosophy-and-basic-structure">Philosophy and Basic Structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/event_structure.html#reading-and-writing-nur-files">Reading and Writing .nur Files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioReco/pages/event_structure.html#parameter-storage">Parameter Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioReco/pages/event_structure.html#list-of-data-classes">List of Data Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/event_structure.html#event">Event</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/event_structure.html#radio-shower">Radio Shower</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/event_structure.html#simshower">SimShower</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/event_structure.html#simemitter">SimEmitter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/event_structure.html#particle">Particle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/event_structure.html#station">Station</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/event_structure.html#trigger">Trigger</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/event_structure.html#simstation">SimStation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/event_structure.html#basetrace">BaseTrace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/event_structure.html#electric-field">Electric Field</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/event_structure.html#channel">Channel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/event_structure.html#hybrid-information">Hybrid Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/event_structure.html#hybrid-shower">Hybrid Shower</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/event_structure.html#hybrid-detector">Hybrid Detector</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector_tree.html">Detector Description</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/detector.html">Detector Description</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/detector.html#the-detector-class">The Detector Class</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/detector.html#detector-description-formats">Detector Description Formats</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/detector.html#database">DataBase</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/detector.html#json">JSON</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/detector.html#dictionary">Dictionary</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/detector.html#signal-chain-responses">Signal Chain Responses</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/detector.html#genericdetector">GenericDetector</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/detector.html#event-specific-changes">Event-Specific Changes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/detector.html#detector-description-in-event-files">Detector Description in Event Files</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/detector.html#writing-the-detector">Writing the Detector</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/detector.html#reading-the-detector">Reading the Detector</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/detector.html#detector-viewer">Detector Viewer</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/detector_database_fields.html">Properties of Detector Description</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/detector_database_fields.html#antenna-table">Antenna Table</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/detector_database_fields.html#further-discussion-on-antenna-coordinates">Further Discussion on Antenna Coordinates</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/detector_database_fields.html#adc-table">ADC Table</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html">Antenna Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#implemetation-of-antenna-models">Implemetation of Antenna Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#overview-of-available-antenna-models">Overview of available Antenna Models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#bicone-v8-infair">bicone_v8_InfAir</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#bicone-v8-inffirn">bicone_v8_InfFirn</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#bicone-v8-inf-n1-32">bicone_v8_inf_n1.32</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#bicone-v8-inf-n1-4">bicone_v8_inf_n1.4</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#bicone-v8-inf-n1-78">bicone_v8_inf_n1.78</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#createlpda-100mhz-inffirn">createLPDA_100MHz_InfFirn</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#createlpda-inffirn-n1-4">createLPDA_InfFirn_n1.4</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#createlpda-100mhz-z1cm-infirn-rg">createLPDA_100MHz_z1cm_InFirn_RG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#createlpda-100mhz-z1cm-infirn-boresighttoboundary">createLPDA_100MHz_z1cm_InFirn_BoresightToBoundary</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#createlpda-100mhz-z10cm-infirn-rg">createLPDA_100MHz_z10cm_InFirn_RG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#createlpda-100mhz-z1m-infirn-rg">createLPDA_100MHz_z1m_InFirn_RG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#createlpda-100mhz-z2m-infirn-rg">createLPDA_100MHz_z2m_InFirn_RG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#createlpda-100mhz-z2m-infirn-backlobe-norg">createLPDA_100MHz_z2m_InFirn_Backlobe_NoRG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#createlpda-100mhz-z3m-inair-rg">createLPDA_100MHz_z3m_InAir_RG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#createlpda-100mhz-z3m-infirn-boresighttoboundary">createLPDA_100MHz_z3m_InFirn_BoresightToBoundary</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#createlpda-100mhz-z3mandlpdalen-infirn-boresighttoboundary">createLPDA_100MHz_z3mAndLPDALen_InFirn_BoresightToBoundary</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#createlpda-100mhz-z5m-infirn-rg">createLPDA_100MHz_z5m_InFirn_RG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#createlpda-100mhz-z10m-infirn-rg">createLPDA_100MHz_z10m_InFirn_RG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#createlpda-100mhz-z100m-infirn-rg">createLPDA_100MHz_z100m_InFirn_RG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#createlpda-100mhz-z200m-infirn-rg">createLPDA_100MHz_z200m_InFirn_RG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#createlpda-100mhz-infair">createLPDA_100MHz_InfAir</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#createlpda-100mhz-z1cm-inair-rg">createLPDA_100MHz_z1cm_InAir_RG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#createlpda-100mhz-z1m-infirn-rg-v2">createLPDA_100MHz_z1m_InFirn_RG_v2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#dip7cm-hpol-inffirn">dip7cm_hpol_infFirn</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#dip7cm-z260mm-infirn-rg">dip7cm_z260mm_InFirn_RG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#dip7cm-z1m-infirn-rg">dip7cm_z1m_InFirn_RG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#dip7cm-z2m-infirn-rg">dip7cm_z2m_InFirn_RG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#dip7cm-z3m-infirn-rg-nearhorizontalhd">dip7cm_z3m_InFirn_RG_NearHorizontalHD</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#dip7cm-z5m-infirn-rg">dip7cm_z5m_InFirn_RG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#dip7cm-z10m-infirn-rg">dip7cm_z10m_InFirn_RG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#dip7cm-z200m-infirn-rg">dip7cm_z200m_InFirn_RG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#dip7cm-z100m-infirn-rg">dip7cm_z100m_InFirn_RG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#dip7cm-infair-s12">dip7cm_infAir_s12</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#dip7cm-z270mm-inair">dip7cm_z270mm_InAir</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#dip7cm-z1m-inair">dip7cm_z1m_InAir</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#dip7cm-z1m-inair-rg-nearhorizontalhd">dip7cm_z1m_InAir_RG_NearHorizontalHD</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#dip7cm-z1m-inair-rg-nearhorizontalhd2">dip7cm_z1m_InAir_RG_NearHorizontalHD2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#dip7cm-z2m-inair">dip7cm_z2m_InAir</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#dip7cm-z5m-inair">dip7cm_z5m_InAir</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#rnog-vpol-4inch-center-n1-73">RNOG_vpol_4inch_center_n1.73</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#rnog-vpol-4inch-half-n1-73">RNOG_vpol_4inch_half_n1.73</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#rnog-vpol-4inch-wall-n1-73">RNOG_vpol_4inch_wall_n1.73</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#rnog-vpol-v2-5inch-center-n1-75">RNOG_vpol_v2_5inch_center_n1.75</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#rnog-quadslot-v1-n1-74">RNOG_quadslot_v1_n1.74</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#rnog-quadslot-v2-n1-74">RNOG_quadslot_v2_n1.74</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#rnog-quadslot-v2-rescaled-finefreq">RNOG_quadslot_v2_rescaled_fineFreq</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#rnog-quadslot-v3-air-rescaled-to-n1-74">RNOG_quadslot_v3_air_rescaled_to_n1.74</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#skala-inffirn">SKALA_InfFirn</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#additional-models">Additional Models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#rnog-vpol-v1-n1-4">RNOG_vpol_v1_n1.4</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#rnog-vpol-v1-n1-73">RNOG_vpol_v1_n1.73</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#fourslot-inffirn">fourslot_InfFirn</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#greenland-vpol-inffirn">greenland_vpol_InfFirn</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#trislot-rnog">trislot_RNOG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#dipole-ara-bicone-infinitefirn">dipole_ARA_bicone_infinitefirn</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#xfdtd-hpol-150mmhole-n1-78">XFDTD_Hpol_150mmHole_n1.78</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#xfdtd-vpol-crossfeed-150mmhole-n1-78">XFDTD_Vpol_CrossFeed_150mmHole_n1.78</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/antennamodels.html#xfdtd-vpol-crossfeed-150mmhole-n1-78-inffirn">XFDTD_Vpol_CrossFeed_150mmHole_n1.78_InfFirn</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/rnog.html">The RNO-G detector class and database interface</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/rnog.html#detector-time-and-database-time">Detector time and database time</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/rnog.html#database-structure">Database structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/rnog.html#signal-chain">Signal Chain</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/rnog.html#response-class">Response class</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/detector/rnog.html#detector-class">Detector class</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../NuRadioReco/pages/nur_modules.html">Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioReco/pages/nur_modules.html#basic-module-structure">Basic Module Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioReco/pages/nur_modules.html#logging">Logging</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../NuRadioReco/pages/event_display.html">Event Display</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../NuRadioReco/pages/utilities.html">Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioReco/pages/utilities.html#unit-system">Unit System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioReco/pages/utilities.html#fourier-transformation">Fourier Transformation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioReco/pages/utilities.html#metaclasses">Metaclasses</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/utilities.html#singleton">Singleton</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../NuRadioReco/pages/code_documentation.html">Code Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.framework.html">NuRadioReco.framework package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.framework.html#submodules">Submodules</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.framework.base_shower.html">NuRadioReco.framework.base_shower module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.framework.base_station.html">NuRadioReco.framework.base_station module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.framework.base_trace.html">NuRadioReco.framework.base_trace module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.framework.channel.html">NuRadioReco.framework.channel module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.framework.electric_field.html">NuRadioReco.framework.electric_field module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.framework.emitter.html">NuRadioReco.framework.emitter module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.framework.event.html">NuRadioReco.framework.event module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.framework.hybrid_information.html">NuRadioReco.framework.hybrid_information module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.framework.hybrid_shower.html">NuRadioReco.framework.hybrid_shower module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.framework.parameter_serialization.html">NuRadioReco.framework.parameter_serialization module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.framework.parameters.html">NuRadioReco.framework.parameters module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.framework.particle.html">NuRadioReco.framework.particle module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.framework.radio_shower.html">NuRadioReco.framework.radio_shower module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.framework.sim_channel.html">NuRadioReco.framework.sim_channel module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.framework.sim_emitter.html">NuRadioReco.framework.sim_emitter module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.framework.sim_station.html">NuRadioReco.framework.sim_station module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.framework.station.html">NuRadioReco.framework.station module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.framework.trigger.html">NuRadioReco.framework.trigger module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.html">NuRadioReco.modules package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.html#subpackages">Subpackages</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.ARA.html">NuRadioReco.modules.ARA package</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.ARIANNA.html">NuRadioReco.modules.ARIANNA package</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.LOFAR.html">NuRadioReco.modules.LOFAR package</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.RNO_G.html">NuRadioReco.modules.RNO_G package</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.base.html">NuRadioReco.modules.base package</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.custom.html">NuRadioReco.modules.custom package</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.iftElectricFieldReconstructor.html">NuRadioReco.modules.iftElectricFieldReconstructor package</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.io.html">NuRadioReco.modules.io package</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.measured_noise.html">NuRadioReco.modules.measured_noise package</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.neutrinoDirectionReconstructor.html">NuRadioReco.modules.neutrinoDirectionReconstructor package</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.neutrinoVertexReconstructor.html">NuRadioReco.modules.neutrinoVertexReconstructor package</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.phasedarray.html">NuRadioReco.modules.phasedarray package</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.trigger.html">NuRadioReco.modules.trigger package</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.html#submodules">Submodules</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.analogToDigitalConverter.html">NuRadioReco.modules.analogToDigitalConverter module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.beamFormingDirectionFitter.html">NuRadioReco.modules.beamFormingDirectionFitter module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.channelAddCableDelay.html">NuRadioReco.modules.channelAddCableDelay module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.channelAntennaDedispersion.html">NuRadioReco.modules.channelAntennaDedispersion module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.channelBandPassFilter.html">NuRadioReco.modules.channelBandPassFilter module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.channelGalacticNoiseAdder.html">NuRadioReco.modules.channelGalacticNoiseAdder module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.channelGenericNoiseAdder.html">NuRadioReco.modules.channelGenericNoiseAdder module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.channelLengthAdjuster.html">NuRadioReco.modules.channelLengthAdjuster module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.channelResampler.html">NuRadioReco.modules.channelResampler module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.channelSignalReconstructor.html">NuRadioReco.modules.channelSignalReconstructor module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.channelStopFilter.html">NuRadioReco.modules.channelStopFilter module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.channelTemplateCorrelation.html">NuRadioReco.modules.channelTemplateCorrelation module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.channelTimeOffsetCalculator.html">NuRadioReco.modules.channelTimeOffsetCalculator module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.channelTimeWindow.html">NuRadioReco.modules.channelTimeWindow module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.correlationDirectionFitter.html">NuRadioReco.modules.correlationDirectionFitter module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.cosmicRayEnergyReconstructor.html">NuRadioReco.modules.cosmicRayEnergyReconstructor module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.efieldAirToIcePropagator.html">NuRadioReco.modules.efieldAirToIcePropagator module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.efieldRadioInterferometricReconstruction.html">NuRadioReco.modules.efieldRadioInterferometricReconstruction module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.efieldTimeDirectionFitter.html">NuRadioReco.modules.efieldTimeDirectionFitter module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.efieldToVoltageConverter.html">NuRadioReco.modules.efieldToVoltageConverter module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.efieldToVoltageConverterPerEfield.html">NuRadioReco.modules.efieldToVoltageConverterPerEfield module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.electricFieldBandPassFilter.html">NuRadioReco.modules.electricFieldBandPassFilter module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.electricFieldResampler.html">NuRadioReco.modules.electricFieldResampler module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.electricFieldSignalReconstructor.html">NuRadioReco.modules.electricFieldSignalReconstructor module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.eventTypeIdentifier.html">NuRadioReco.modules.eventTypeIdentifier module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.sphericalWaveFitter.html">NuRadioReco.modules.sphericalWaveFitter module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.templateDirectionFitter.html">NuRadioReco.modules.templateDirectionFitter module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.triggerTimeAdjuster.html">NuRadioReco.modules.triggerTimeAdjuster module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.voltageToAnalyticEfieldConverter.html">NuRadioReco.modules.voltageToAnalyticEfieldConverter module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.voltageToEfieldConverter.html">NuRadioReco.modules.voltageToEfieldConverter module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.voltageToEfieldConverterPerChannel.html">NuRadioReco.modules.voltageToEfieldConverterPerChannel module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.detector.html">NuRadioReco.detector package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.detector.html#subpackages">Subpackages</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.detector.ARA.html">NuRadioReco.detector.ARA package</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.detector.ARIANNA.html">NuRadioReco.detector.ARIANNA package</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.detector.LOFAR.html">NuRadioReco.detector.LOFAR package</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.detector.RNO_G.html">NuRadioReco.detector.RNO_G package</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.detector.html#submodules">Submodules</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.detector.amp.html">NuRadioReco.detector.amp module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.detector.antennapattern.html">NuRadioReco.detector.antennapattern module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.detector.detector.html">NuRadioReco.detector.detector module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.detector.detector_base.html">NuRadioReco.detector.detector_base module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.detector.detector_sql.html">NuRadioReco.detector.detector_sql module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.detector.detector_sys_uncertainties.html">NuRadioReco.detector.detector_sys_uncertainties module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.detector.filterresponse.html">NuRadioReco.detector.filterresponse module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.detector.generic_detector.html">NuRadioReco.detector.generic_detector module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.detector.response.html">NuRadioReco.detector.response module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.detector.sql_to_json.html">NuRadioReco.detector.sql_to_json module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.detector.test_detector_db.html">NuRadioReco.detector.test_detector_db module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.detector.visualize_detector.html">NuRadioReco.detector.visualize_detector module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.html">NuRadioReco.utilities package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.html#submodules">Submodules</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.analytic_pulse.html">NuRadioReco.utilities.analytic_pulse module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.bandpass_filter.html">NuRadioReco.utilities.bandpass_filter module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.cr_flux.html">NuRadioReco.utilities.cr_flux module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.dataservers.html">NuRadioReco.utilities.dataservers module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.diodeSimulator.html">NuRadioReco.utilities.diodeSimulator module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.fft.html">NuRadioReco.utilities.fft module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.geometryUtilities.html">NuRadioReco.utilities.geometryUtilities module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.ice.html">NuRadioReco.utilities.ice module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.interferometry.html">NuRadioReco.utilities.interferometry module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.io_utilities.html">NuRadioReco.utilities.io_utilities module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.logging.html">NuRadioReco.utilities.logging module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.metaclasses.html">NuRadioReco.utilities.metaclasses module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.noise.html">NuRadioReco.utilities.noise module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.particle_names.html">NuRadioReco.utilities.particle_names module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.signal_processing.html">NuRadioReco.utilities.signal_processing module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.templates.html">NuRadioReco.utilities.templates module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.timing.html">NuRadioReco.utilities.timing module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.traceWindows.html">NuRadioReco.utilities.traceWindows module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.trace_utilities.html">NuRadioReco.utilities.trace_utilities module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.units.html">NuRadioReco.utilities.units module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioReco/apidoc/NuRadioReco.utilities.version.html">NuRadioReco.utilities.version module</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../NuRadioReco/pages/howto_documentation.html">Manuals</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioReco/pages/how_to/vertex_reconstruction.html">Use the Vertex Reconstruction Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/how_to/vertex_reconstruction.html#creating-lookup-tables">Creating Lookup Tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/how_to/vertex_reconstruction.html#creating-electric-field-templates">Creating Electric Field Templates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioReco/pages/how_to/vertex_reconstruction.html#d-vs-3d-vertex-reconstructor">2D vs. 3D Vertex Reconstructor</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../NuRadioMC/pages/welcome_page.html">NuRadioMC Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../NuRadioMC/pages/HDF5_structure.html">HDF5 output structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioMC/pages/HDF5_structure.html#opening-the-hdf5-file">Opening the HDF5 file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioMC/pages/HDF5_structure.html#what-s-behind-the-hdf5-files">What’s behind the HDF5 files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioMC/pages/HDF5_structure.html#hdf5-structure">HDF5 structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/HDF5_structure.html#hdf5-file-attributes">HDF5 file attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/HDF5_structure.html#hdf5-file-contents">HDF5 file contents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/HDF5_structure.html#station-data">Station data</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../NuRadioMC/pages/code_documentation.html">Code Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.EvtGen.html">NuRadioMC.EvtGen package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.EvtGen.html#submodules">Submodules</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.EvtGen.NuRadioMCtoAraSim.html">NuRadioMC.EvtGen.NuRadioMCtoAraSim module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.EvtGen.NuRadioProposal.html">NuRadioMC.EvtGen.NuRadioProposal module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.EvtGen.create_tau_tab.html">NuRadioMC.EvtGen.create_tau_tab module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.EvtGen.generate_cylinder.html">NuRadioMC.EvtGen.generate_cylinder module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.EvtGen.generate_unforced.html">NuRadioMC.EvtGen.generate_unforced module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.EvtGen.generator.html">NuRadioMC.EvtGen.generator module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.EvtGen.generator_ASCII.html">NuRadioMC.EvtGen.generator_ASCII module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.EvtGen.generator_skeleton.html">NuRadioMC.EvtGen.generator_skeleton module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.EvtGen.hdf5_to_ASCII.html">NuRadioMC.EvtGen.hdf5_to_ASCII module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.EvtGen.proposal_table_manager.html">NuRadioMC.EvtGen.proposal_table_manager module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.EvtGen.readARAEventList.html">NuRadioMC.EvtGen.readARAEventList module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.EvtGen.readEventList_ASCII.html">NuRadioMC.EvtGen.readEventList_ASCII module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.SignalGen.html">NuRadioMC.SignalGen package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.SignalGen.html#subpackages">Subpackages</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.SignalGen.ARZ.html">NuRadioMC.SignalGen.ARZ package</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.SignalGen.html#submodules">Submodules</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.SignalGen.HCRB2017.html">NuRadioMC.SignalGen.HCRB2017 module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.SignalGen.askaryan.html">NuRadioMC.SignalGen.askaryan module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.SignalGen.emitter.html">NuRadioMC.SignalGen.emitter module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.SignalGen.parametrizations.html">NuRadioMC.SignalGen.parametrizations module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.SignalProp.html">NuRadioMC.SignalProp package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.SignalProp.html#submodules">Submodules</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.SignalProp.analyticraytracing.html">NuRadioMC.SignalProp.analyticraytracing module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.SignalProp.directRayTracing.html">NuRadioMC.SignalProp.directRayTracing module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.SignalProp.propagation.html">NuRadioMC.SignalProp.propagation module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.SignalProp.propagation_base_class.html">NuRadioMC.SignalProp.propagation_base_class module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.SignalProp.radioproparaytracing.html">NuRadioMC.SignalProp.radioproparaytracing module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.simulation.html">NuRadioMC.simulation package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.simulation.html#submodules">Submodules</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.simulation.simulation.html">NuRadioMC.simulation.simulation module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.utilities.html">NuRadioMC.utilities package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.utilities.html#submodules">Submodules</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.utilities.Veff.html">NuRadioMC.utilities.Veff module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.utilities.attenuation.html">NuRadioMC.utilities.attenuation module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.utilities.cross_sections.html">NuRadioMC.utilities.cross_sections module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.utilities.dump_hdf5.html">NuRadioMC.utilities.dump_hdf5 module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.utilities.earth_attenuation.html">NuRadioMC.utilities.earth_attenuation module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.utilities.fluxes.html">NuRadioMC.utilities.fluxes module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.utilities.inelasticities.html">NuRadioMC.utilities.inelasticities module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.utilities.medium.html">NuRadioMC.utilities.medium module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.utilities.medium_base.html">NuRadioMC.utilities.medium_base module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.utilities.merge_hdf5.html">NuRadioMC.utilities.merge_hdf5 module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.utilities.muon_flux.html">NuRadioMC.utilities.muon_flux module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.utilities.plotting.html">NuRadioMC.utilities.plotting module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.utilities.runner.html">NuRadioMC.utilities.runner module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.utilities.runner_example.html">NuRadioMC.utilities.runner_example module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/apidoc/NuRadioMC.utilities.split_hdf5.html">NuRadioMC.utilities.split_hdf5 module</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../NuRadioMC/pages/manuals.html">Manuals</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/veff_tutorial.html">Example: Calculating effective volume</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/veff_tutorial.html#run-an-effective-volume-simulation">Run an effective volume simulation</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/veff_tutorial.html#generating-the-input-event-list">Generating the input event list</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/veff_tutorial.html#running-the-simulation">Running the simulation</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/veff_tutorial.html#visualization-of-results">Visualization of results</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/expected_sensitivities_tutorial.html">Example: Calculating expected sensitivities</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/example-multi_station_coincidences.html">Example: Multi-station coincidences</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/example-multi_station_coincidences.html#generation-of-detector-layout">1. Generation of detector layout</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/example-multi_station_coincidences.html#detector-simulation">2. Detector simulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/example-multi_station_coincidences.html#running-the-simulation">3. Running the simulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/example-multi_station_coincidences.html#analyzing-the-output">4. Analyzing the output</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/event_generation.html">Event Generation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/event_generation.html#events-in-a-cylindrical-volume">Events in a cylindrical volume</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/event_generation.html#input-parameters">Input parameters</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/event_generation.html#data-sets-and-attributes">Data sets and attributes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/event_generation.html#atmospheric-muons-generated-on-a-flat-surface">Atmospheric muons generated on a flat surface</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/event_generation.html#nuradioproposal-as-a-standalone-module">NuRadioProposal as a standalone module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/signal_generation_shower.html">Signal Generation (from in-ice showers)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/signal_generation_shower.html#frequency-domain-parameterisations">Frequency-domain parameterisations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/signal_generation_shower.html#arz-semi-analytical-model">ARZ - semi-analytical model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/signal_generation_shower.html#validity-of-the-parameterisations-and-the-arz-model">Validity of the parameterisations and the ARZ model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/signal_generation_shower.html#timing">Timing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/signal_generation_shower.html#using-the-same-shower-random-seed">Using the same shower. Random seed</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/signal_generation_shower.html#fft-normalisation">FFT normalisation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/signal_generation_emitter.html">Signal Generation (emitter)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/signal_generation_emitter.html#spice-pulser">SPice Pulser</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/signal_propagation.html">Signal Propagation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/signal_propagation.html#propagation-module">Propagation module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/signal_propagation.html#ray-tracing">Ray tracing</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/signal_propagation.html#analytical-ray-tracer">Analytical ray tracer</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/signal_propagation.html#radiopropa-numerical-ray-tracer-in-development">RadioPropa numerical ray tracer (in development)</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/signal_propagation.html#example-scripts">Example scripts</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/signal_propagation.html#how-to-calculate-an-analytic-ray-path">How to calculate an analytic ray path</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/signal_propagation.html#how-to-calculate-an-radiopropa-ray-path">How to calculate an radiopropa ray path</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/icemodels.html">Ice and attenuation models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/icemodels.html#ice-model-implementation">Ice model implementation</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/icemodels.html#the-icemodel-and-icemodel-simple-class">The IceModel and IceModel_Simple class</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/icemodels.html#radiopropaicewrapper">RadioPropaIceWrapper</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/icemodels.html#available-models-in-nuradiomc">Available models in NuRadioMC</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/icemodels.html#simple-ice-models">Simple ice models</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/icemodels.html#radiopropa-ice-models">RadioPropa ice models</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/icemodels.html#attenuation-model">Attenuation model</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/icemodels.html#using-specific-models">Using specific models</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/icemodels.html#example-script">Example script</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/icemodels.html#birefringence-ice-models">Birefringence Ice Models</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/icemodels.html#available-birefringence-ice-models">Available Birefringence Ice Models</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/icemodels.html#ice-flow-direction">Ice-Flow Direction</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/icemodels.html#available-birefringence-propagation-options">Available Birefringence Propagation Options</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/icemodels.html#using-specific-birefringence-models">Using specific birefringence models</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/simulation_configuration.html">Simulation and configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/simulation_configuration.html#steering-files">Steering files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/simulation_configuration.html#config-files">Config files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/simulation_configuration.html#detector-description">Detector description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/simulation_configuration.html#detector-simulation">Detector simulation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/running_on_a_cluster.html">Running on a cluster</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/running_on_a_cluster.html#generate-input-files">1. Generate input files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/running_on_a_cluster.html#generate-job-sh-scripts">2. Generate job *.sh scripts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/running_on_a_cluster.html#submit-jobs-to-the-cluster">3. Submit jobs to the cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../../NuRadioMC/pages/Manuals/running_on_a_cluster.html#merge-individual-hdf5-output-files">4. Merge individual hdf5 output files</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../main.html">NuRadio</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../main.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">NuRadioReco.modules.io.RNO_G.readRNOGDataMattak</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for NuRadioReco.modules.io.RNO_G.readRNOGDataMattak</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">astropy.time</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">lru_cache</span>
<span class="kn">from</span> <span class="nn">inspect</span> <span class="kn">import</span> <span class="n">signature</span>

<span class="kn">from</span> <span class="nn">NuRadioReco.modules.base.module</span> <span class="kn">import</span> <span class="n">register_run</span>
<span class="kn">from</span> <span class="nn">NuRadioReco.modules.RNO_G.channelBlockOffsetFitter</span> <span class="kn">import</span> <span class="n">channelBlockOffsets</span><span class="p">,</span> <span class="n">fit_block_offsets</span>

<span class="kn">import</span> <span class="nn">NuRadioReco.framework.event</span>
<span class="kn">import</span> <span class="nn">NuRadioReco.framework.station</span>
<span class="kn">import</span> <span class="nn">NuRadioReco.framework.channel</span>
<span class="kn">import</span> <span class="nn">NuRadioReco.framework.trigger</span>
<span class="kn">import</span> <span class="nn">NuRadioReco.framework.parameters</span>

<span class="kn">from</span> <span class="nn">NuRadioReco.utilities</span> <span class="kn">import</span> <span class="n">units</span>
<span class="kn">import</span> <span class="nn">mattak.Dataset</span>


<span class="k">def</span> <span class="nf">_baseline_correction</span><span class="p">(</span><span class="n">wfs</span><span class="p">,</span> <span class="n">n_bins</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">,</span> <span class="n">return_offsets</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Simple baseline correction function.</span>

<span class="sd">    Determines baseline in discrete chuncks of &quot;n_bins&quot; with</span>
<span class="sd">    the function specified (i.e., mean or median).</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>

<span class="sd">    wfs: np.array(n_events, n_channels, n_samples)</span>
<span class="sd">        Waveforms of several events/channels.</span>

<span class="sd">    n_bins: int</span>
<span class="sd">        Number of samples/bins in one &quot;chunck&quot;. If None, calculate median/mean over entire trace. (Default: 128)</span>

<span class="sd">    func: np.mean or np.median</span>
<span class="sd">        Function to calculate pedestal</span>

<span class="sd">    return_offsets: bool, default False</span>
<span class="sd">        if True, additionally return the baseline offsets</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>

<span class="sd">    wfs_corrected: np.array(n_events, n_channels, n_samples)</span>
<span class="sd">        Baseline/pedestal corrected waveforms</span>

<span class="sd">    baseline_values: np.array of shape (n_samples // n_bins, n_events, n_channels)</span>
<span class="sd">        (Only if return_offsets==True) The baseline offsets</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Example: Get baselines in chunks of 128 bins</span>
    <span class="c1"># wfs in (n_events, n_channels, 2048)</span>
    <span class="c1"># np.split -&gt; (16, n_events, n_channels, 128) each waveform split in 16 chuncks</span>
    <span class="c1"># func -&gt; (16, n_events, n_channels) pedestal for each chunck</span>
    <span class="k">if</span> <span class="n">n_bins</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">baseline_values</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">wfs</span><span class="p">,</span> <span class="mi">2048</span> <span class="o">//</span> <span class="n">n_bins</span><span class="p">,</span> <span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span> <span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>

        <span class="c1"># np.repeat -&gt; (2048, n_events, n_channels) concatenate the 16 chuncks to one baseline</span>
        <span class="n">baseline_traces</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">baseline_values</span><span class="p">,</span> <span class="n">n_bins</span> <span class="o">%</span> <span class="mi">2048</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">baseline_values</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">wfs</span><span class="p">,</span> <span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="c1"># np.repeat -&gt; (2048, n_events, n_channels) concatenate the 16 chuncks to one baseline</span>
        <span class="n">baseline_traces</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">baseline_values</span><span class="p">,</span> <span class="mi">2048</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="c1"># np.moveaxis -&gt; (n_events, n_channels, 2048)</span>
    <span class="n">baseline_traces</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">moveaxis</span><span class="p">(</span><span class="n">baseline_traces</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">return_offsets</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">wfs</span> <span class="o">-</span> <span class="n">baseline_traces</span><span class="p">,</span> <span class="n">baseline_values</span>

    <span class="k">return</span> <span class="n">wfs</span> <span class="o">-</span> <span class="n">baseline_traces</span>


<div class="viewcode-block" id="get_time_offset"><a class="viewcode-back" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.io.RNO_G.readRNOGDataMattak.html#NuRadioReco.modules.io.RNO_G.readRNOGDataMattak.get_time_offset">[docs]</a><span class="k">def</span> <span class="nf">get_time_offset</span><span class="p">(</span><span class="n">trigger_type</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Mapping the offset between trace start time and trigger time (~ signal time).</span>
<span class="sd">    Temporary use hard-coded values for each trigger type. In the future this</span>
<span class="sd">    information might be time, station, and channel dependent and should come</span>
<span class="sd">    from a database (or is already calibrated in mattak)</span>

<span class="sd">    Current values motivated by figures posted in PR https://github.com/nu-radio/NuRadioMC/pull/519</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>

<span class="sd">    trigger_type: str</span>
<span class="sd">        Trigger type encoded as string from Mattak</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>

<span class="sd">    time_offset: float</span>
<span class="sd">        trace_start_time = trigger_time - time_offset</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">time_offsets</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;FORCE&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;LT&quot;</span><span class="p">:</span> <span class="mi">250</span> <span class="o">*</span> <span class="n">units</span><span class="o">.</span><span class="n">ns</span><span class="p">,</span>
        <span class="s2">&quot;RADIANT&quot;</span><span class="p">:</span> <span class="mi">475</span> <span class="o">*</span> <span class="n">units</span><span class="o">.</span><span class="n">ns</span><span class="p">,</span>
        <span class="s2">&quot;UNKNOWN&quot;</span><span class="p">:</span> <span class="mi">0</span>  <span class="c1"># Due to a firmware issue at the beginning of data taking the trigger types were not properly set.</span>
    <span class="p">}</span>

    <span class="c1"># Should have the same time offset ?!</span>
    <span class="k">if</span> <span class="n">trigger_type</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;RADIANT&quot;</span><span class="p">):</span>
        <span class="n">trigger_type</span> <span class="o">=</span> <span class="s2">&quot;RADIANT&quot;</span>

    <span class="k">if</span> <span class="n">trigger_type</span> <span class="ow">in</span> <span class="n">time_offsets</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">time_offsets</span><span class="p">[</span><span class="n">trigger_type</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">known_trigger_types</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">time_offsets</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown trigger type: </span><span class="si">{</span><span class="n">trigger_type</span><span class="si">}</span><span class="s2">. Known are: </span><span class="si">{</span><span class="n">known_trigger_types</span><span class="si">}</span><span class="s2">. Abort ....&quot;</span><span class="p">)</span></div>


<span class="k">def</span> <span class="nf">_all_files_in_directory</span><span class="p">(</span><span class="n">mattak_dir</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks if all Mattak root files are in a directory.</span>
<span class="sd">    Ignoring runinfo.root because (asaik) not all runs have those and information is currently not read by Mattak.</span>
<span class="sd">    There are mattak directories which produce a ReferenceError when reading. They have a &quot;combined.root&quot; which is</span>
<span class="sd">    apparently empty but are missing the daqstatus, pedestal, and header file.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>

<span class="sd">    mattak_dir: str</span>
<span class="sd">        Path to a mattak directory</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>

<span class="sd">    all_there: bool</span>
<span class="sd">        True, if all &quot;req_files&quot; are there and waveforms.root or combined.root. Otherwise returns False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># one or the other has to be present</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">mattak_dir</span><span class="p">,</span> <span class="s2">&quot;waveforms.root&quot;</span><span class="p">))</span> <span class="ow">and</span> \
            <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">mattak_dir</span><span class="p">,</span> <span class="s2">&quot;combined.root&quot;</span><span class="p">)):</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">req_files</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;daqstatus.root&quot;</span><span class="p">,</span> <span class="s2">&quot;headers.root&quot;</span><span class="p">,</span> <span class="s2">&quot;pedestal.root&quot;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">req_files</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">mattak_dir</span><span class="p">,</span> <span class="n">file</span><span class="p">)):</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;File </span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2"> could not be found in </span><span class="si">{</span><span class="n">mattak_dir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="kc">True</span>


<span class="k">def</span> <span class="nf">_convert_to_astropy_time</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Convert to astropy.time.Time &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">t</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">astropy</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">Time</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>


<div class="viewcode-block" id="readRNOGData"><a class="viewcode-back" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.io.RNO_G.readRNOGDataMattak.html#NuRadioReco.modules.io.RNO_G.readRNOGDataMattak.readRNOGData">[docs]</a><span class="k">class</span> <span class="nc">readRNOGData</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_table_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">load_run_table</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">log_level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">NOTSET</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reader for RNO-G ``.root`` files</span>

<span class="sd">        This class provides read access to RNO-G ``.root`` files and converts them</span>
<span class="sd">        to NuRadioMC :class:`Events &lt;NuRadioReco.framework.event.Event&gt;`. Requires ``mattak``</span>
<span class="sd">        (https://github.com/RNO-G/mattak) to be installed.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        run_table_path: str | None</span>
<span class="sd">            Path to a run_table.csv file. If None, the run table is queried from the DB. (Default: None)</span>

<span class="sd">        load_run_table: bool</span>
<span class="sd">            If True, try to load the run_table from run_table_path. Otherwise, skip this.</span>

<span class="sd">        log_level: enum</span>
<span class="sd">            Set verbosity level of logger. If logging.DEBUG, set mattak to verbose (unless specified in mattak_kwargs).</span>
<span class="sd">            (Default: logging.NOTSET, ie adhere to general log level)</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        .. code-block::</span>

<span class="sd">            reader = readRNOGDataMattak.readRNOGData() # initialize reader</span>
<span class="sd">            reader.begin(&#39;/path/to/root_file_or_folder&#39;)</span>

<span class="sd">            evt = reader.get_event_by_index(0) # returns the first event in the file</span>
<span class="sd">            # OR</span>
<span class="sd">            evt = reader.get_event(run_nr=1100, event_id=679) # returns the event with run_number 1100 and event_id 679</span>
<span class="sd">            # OR</span>
<span class="sd">            for evt in reader.run(): # loop over all events in file</span>
<span class="sd">                # perform some analysis</span>
<span class="sd">                pass</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;NuRadioReco.RNOG.readRNOGData&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">log_level</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_blockoffsetfitter</span> <span class="o">=</span> <span class="n">channelBlockOffsets</span><span class="p">()</span>

        <span class="c1"># Initialize run table for run selection</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__run_table</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">load_run_table</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">run_table_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="kn">from</span> <span class="nn">rnog_data.runtable</span> <span class="kn">import</span> <span class="n">RunTable</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Access RunTable database ...&quot;</span><span class="p">)</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">__run_table</span> <span class="o">=</span> <span class="n">RunTable</span><span class="p">()</span><span class="o">.</span><span class="n">get_table</span><span class="p">()</span>
                    <span class="k">except</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;No connect to RunTable database could be established. &quot;</span>
                                        <span class="s2">&quot;Runs can not be filtered.&quot;</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Import of run table failed. Runs can not be filtered.! </span><span class="se">\n</span><span class="s2">&quot;</span>
                            <span class="s2">&quot;You can get the interface from GitHub: git@github.com:RNO-G/rnog-runtable.git&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># some users may mistakenly try to pass the .root files to __init__</span>
                <span class="c1"># we check for this and raise a (hopefully) helpful error message</span>
                <span class="n">user_passed_root_file_msg</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="s2">&quot;The optional argument run_table_path expects a csv file, &quot;</span>
                    <span class="s2">&quot;but you passed a list of files or a .root file. Note that &quot;</span>
                    <span class="s2">&quot;the .root files to read in should be passed to the `begin` method of this class&quot;</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">run_table_path</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)):</span>
                    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">user_passed_root_file_msg</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">run_table_path</span><span class="p">)</span> <span class="ow">or</span> <span class="n">run_table_path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.root&#39;</span><span class="p">):</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">user_passed_root_file_msg</span><span class="p">)</span>

                <span class="kn">import</span> <span class="nn">pandas</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__run_table</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">run_table_path</span><span class="p">)</span>


<div class="viewcode-block" id="readRNOGData.begin"><a class="viewcode-back" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.io.RNO_G.readRNOGDataMattak.html#NuRadioReco.modules.io.RNO_G.readRNOGDataMattak.readRNOGData.begin">[docs]</a>    <span class="k">def</span> <span class="nf">begin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">dirs_files</span><span class="p">,</span>
            <span class="n">read_calibrated_data</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">select_triggers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">select_runs</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">apply_baseline_correction</span><span class="o">=</span><span class="s1">&#39;approximate&#39;</span><span class="p">,</span>
            <span class="n">convert_to_voltage</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">selectors</span><span class="o">=</span><span class="p">[],</span>
            <span class="n">run_types</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;physics&quot;</span><span class="p">],</span>
            <span class="n">run_time_range</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">max_trigger_rate</span><span class="o">=</span><span class="mi">0</span> <span class="o">*</span> <span class="n">units</span><span class="o">.</span><span class="n">Hz</span><span class="p">,</span>
            <span class="n">mattak_kwargs</span><span class="o">=</span><span class="p">{},</span>
            <span class="n">overwrite_sampling_rate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">max_in_mem</span><span class="o">=</span><span class="mi">256</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        dirs_files: str, list(str)</span>
<span class="sd">            Path to run directories (i.e. &quot;.../stationXX/runXXX/&quot;) or path to root files (have to be &quot;combined&quot; mattak files).</span>

<span class="sd">        read_calibrated_data: bool</span>
<span class="sd">            If True, read calibrated waveforms from Mattak.Dataset. If False, read &quot;raw&quot; ADC traces.</span>
<span class="sd">            (temp. Default: False, this can/should be switched once the calibration in incorp. into Mattak)</span>

<span class="sd">        select_triggers: str or list(str)</span>
<span class="sd">            Names of triggers which should be selected. Convinence interface instead of passing a selector</span>
<span class="sd">            (see &quot;selectors&quot; below). (Default: None)</span>

<span class="sd">        select_runs: bool</span>
<span class="sd">            If True, use information in run_table to select runs (based on run_type, run_time, trigger_rate, ...).</span>
<span class="sd">            If the run_table is not available no selection is performed (and the programm is not interrupted,</span>
<span class="sd">            only an error message is raised). See parameters to configure run selection. (Default: False)</span>

<span class="sd">        Other Parameters</span>
<span class="sd">        ----------------</span>

<span class="sd">        apply_baseline_correction: &#39;fit&#39; | &#39;approximate&#39; | &#39;median&#39; | &#39;none&#39;</span>
<span class="sd">            Removes the DC (baseline) block offsets (pedestals).</span>
<span class="sd">            Options are, in order of decreasing precision and increasing performance:</span>

<span class="sd">            * &#39;fit&#39; : do a full out-of-band fit to determine the block offsets; for more details,</span>
<span class="sd">              see :mod:`NuRadioReco.modules.RNO_G.channelBlockOffsetFitter` (slow)</span>
<span class="sd">            * &#39;approximate&#39; : estimate block offsets by looking at the low-pass filtered trace (default)</span>
<span class="sd">            * &#39;median&#39; : subtract the median of each block (faster)</span>
<span class="sd">            * &#39;none&#39; : do not apply a baseline correction (fastest)</span>

<span class="sd">        convert_to_voltage: bool</span>
<span class="sd">            Only applies when non-calibrated data are read. If true, convert ADC to voltage.</span>
<span class="sd">            (Default: True)</span>

<span class="sd">        selectors: list of lambdas</span>
<span class="sd">            List of lambda(eventInfo) -&gt; bool to pass to mattak.Dataset.iterate to select events.</span>
<span class="sd">            Example: trigger_selector = lambda eventInfo: eventInfo.triggerType == &quot;FORCE&quot;</span>
<span class="sd">            (Default: [])</span>

<span class="sd">        run_types: list</span>
<span class="sd">            Used to select/reject runs from information in the RNO-G RunTable. List of run_types to be used. (Default: [&#39;physics&#39;])</span>

<span class="sd">        run_time_range: tuple</span>
<span class="sd">            Specify a time range to select runs (it is sufficient that runs cover the time range partially).</span>
<span class="sd">            Each value of the tuple has to be in a format which astropy.time.Time understands. A value can be None</span>
<span class="sd">            which means that the lower or upper bound is unconstrained. If run_time_range is None no time selection is</span>
<span class="sd">            applied. (Default: None)</span>

<span class="sd">        max_trigger_rate: float</span>
<span class="sd">            Used to select/reject runs from information in the RNO-G RunTable. Maximum allowed trigger rate (per run) in Hz.</span>
<span class="sd">            If 0, no cut is applied. (Default: 1 Hz)</span>

<span class="sd">        mattak_kwargs: dict</span>
<span class="sd">            Dictionary of arguments for mattak.Dataset.Dataset. (Default: {})</span>
<span class="sd">            Example: Select a mattak &quot;backend&quot;. Options are &quot;auto&quot;, &quot;pyroot&quot;, &quot;uproot&quot;. If &quot;auto&quot; is selected,</span>
<span class="sd">            pyroot is used if available otherwise a &quot;fallback&quot; to uproot is used. (Default: &quot;auto&quot;)</span>

<span class="sd">        overwrite_sampling_rate: float</span>
<span class="sd">            Set sampling rate of the imported waveforms. This overwrites what is read out from runinfo</span>
<span class="sd">            (i.e., stored in the mattak files) only when the stored sampling rate is invalid (i.e. 0 or None).</span>
<span class="sd">            If None, nothing is overwritten and the sampling rate from the mattak file is used. (Default: None)</span>
<span class="sd">            NOTE: This option might be necessary when old mattak files are read which have this not set.</span>

<span class="sd">        max_in_mem: int</span>
<span class="sd">            Set the maximum number of events that can be stored in memory. The datareader will divide</span>
<span class="sd">            the data in batches based on this number.</span>
<span class="sd">            NOTE: This is only relevant for the mattak uproot backend</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_read_calibrated_data</span> <span class="o">=</span> <span class="n">read_calibrated_data</span>
        <span class="n">baseline_correction_valid_options</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;approximate&#39;</span><span class="p">,</span> <span class="s1">&#39;fit&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="s1">&#39;none&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">apply_baseline_correction</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">baseline_correction_valid_options</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Value for apply_baseline_correction (</span><span class="si">{</span><span class="n">apply_baseline_correction</span><span class="si">}</span><span class="s2">) not recognized. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Valid options are </span><span class="si">{</span><span class="n">baseline_correction_valid_options</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_apply_baseline_correction</span> <span class="o">=</span> <span class="n">apply_baseline_correction</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_convert_to_voltage</span> <span class="o">=</span> <span class="n">convert_to_voltage</span>

        <span class="c1"># Temporary solution hard-coded values from Cosmin. Only used when uncalibrated data</span>
        <span class="c1"># is read and convert_to_voltage is True.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_adc_ref_voltage_range</span> <span class="o">=</span> <span class="mf">2.5</span> <span class="o">*</span> <span class="n">units</span><span class="o">.</span><span class="n">volt</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_adc_n_bits</span> <span class="o">=</span> <span class="mi">12</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_overwrite_sampling_rate</span> <span class="o">=</span> <span class="n">overwrite_sampling_rate</span>

        <span class="c1"># set max wavform array size that can be loaded in memory</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_max_in_mem</span> <span class="o">=</span> <span class="n">max_in_mem</span>

        <span class="c1"># Set parameter for run selection</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__max_trigger_rate</span> <span class="o">=</span> <span class="n">max_trigger_rate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__run_types</span> <span class="o">=</span> <span class="n">run_types</span>

        <span class="k">if</span> <span class="n">run_time_range</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_time_low</span> <span class="o">=</span> <span class="n">_convert_to_astropy_time</span><span class="p">(</span><span class="n">run_time_range</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_time_high</span> <span class="o">=</span> <span class="n">_convert_to_astropy_time</span><span class="p">(</span><span class="n">run_time_range</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_time_low</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_time_high</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">select_runs</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">__run_table</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">Select runs with type: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">run_types</span><span class="p">))</span> <span class="o">+</span>
                                 <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">Select runs with max. trigger rate of </span><span class="si">{</span><span class="n">max_trigger_rate</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">units</span><span class="o">.</span><span class="n">Hz</span><span class="si">}</span><span class="s2"> Hz&quot;</span>
                                 <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">Select runs which are between </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_time_low</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_time_high</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_selectors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_selectors</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_for_valid_information_in_event_info</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_selectors</span><span class="p">(</span><span class="n">selectors</span><span class="p">,</span> <span class="n">select_triggers</span><span class="p">)</span>

        <span class="c1"># Read data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_time_begin</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_time_run</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_event_idx</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="c1"># only for logging</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__counter</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__skipped</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__invalid</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_events_information</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__n_events_per_dataset</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dirs_files</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)):</span>
            <span class="n">dirs_files</span> <span class="o">=</span> <span class="p">[</span><span class="n">dirs_files</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Parse through / read-in </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">dirs_files</span><span class="p">)</span><span class="si">}</span><span class="s2"> directory(ies) / file(s).&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__skipped_runs</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__n_runs</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># Set verbose for mattak</span>
        <span class="n">verbose</span> <span class="o">=</span> <span class="n">mattak_kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;verbose&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">level</span> <span class="o">&gt;=</span> <span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">dir_file</span> <span class="ow">in</span> <span class="n">dirs_files</span><span class="p">:</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dir_file</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The directory/file </span><span class="si">{</span><span class="n">dir_file</span><span class="si">}</span><span class="s2"> does not exist&quot;</span><span class="p">)</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">dir_file</span><span class="p">):</span>

                <span class="k">if</span> <span class="ow">not</span> <span class="n">_all_files_in_directory</span><span class="p">(</span><span class="n">dir_file</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Incomplete directory: </span><span class="si">{</span><span class="n">dir_file</span><span class="si">}</span><span class="s2">. Skip ...&quot;</span><span class="p">)</span>
                    <span class="k">continue</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">dataset</span> <span class="o">=</span> <span class="n">mattak</span><span class="o">.</span><span class="n">Dataset</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="n">station</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">run</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">data_path</span><span class="o">=</span><span class="n">dir_file</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span> <span class="o">**</span><span class="n">mattak_kwargs</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">ReferenceError</span><span class="p">,</span> <span class="ne">KeyError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The following exeption was raised reading in the run: </span><span class="si">{</span><span class="n">dir_file</span><span class="si">}</span><span class="s2">. Skip that run ...:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="n">e</span><span class="p">)</span>
                <span class="k">continue</span>

            <span class="c1"># filter runs/datasets based on</span>
            <span class="k">if</span> <span class="n">select_runs</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">__run_table</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__select_run</span><span class="p">(</span><span class="n">dataset</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__skipped_runs</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">continue</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__n_runs</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__n_events_per_dataset</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">N</span><span class="p">())</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="p">):</span>
            <span class="n">err</span> <span class="o">=</span> <span class="s2">&quot;Found no valid datasets. Stop!&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>

        <span class="c1"># keeps track which event index is in which dataset</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_event_idxs_datasets</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__n_events_per_dataset</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_n_events_total</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__n_events_per_dataset</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_time_begin</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">t0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_n_events_total</span><span class="si">}</span><span class="s2"> events in </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="p">)</span><span class="si">}</span><span class="s2"> runs/datasets &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;have been found using the </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">backend</span><span class="si">}</span><span class="s2"> Mattak backend.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_n_events_total</span><span class="p">:</span>
            <span class="n">err</span> <span class="o">=</span> <span class="s2">&quot;No runs have been selected. Abort ...&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">err</span><span class="p">)</span></div>


<div class="viewcode-block" id="readRNOGData.add_selectors"><a class="viewcode-back" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.io.RNO_G.readRNOGDataMattak.html#NuRadioReco.modules.io.RNO_G.readRNOGDataMattak.readRNOGData.add_selectors">[docs]</a>    <span class="k">def</span> <span class="nf">add_selectors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">selectors</span><span class="p">,</span> <span class="n">select_triggers</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add selectors (Callable(eventInfo) -&gt; bool) to an internal list of selectors.</span>
<span class="sd">        They are used for event filtering.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        selectors: list of Callables</span>
<span class="sd">            List of Callable(eventInfo) -&gt; bool to pass to mattak.Dataset.iterate to select events.</span>
<span class="sd">            Example: trigger_selector = lambda eventInfo: eventInfo.triggerType == &quot;FORCE&quot;</span>

<span class="sd">        select_triggers: str or list(str)</span>
<span class="sd">            Names of triggers which should be selected. Convenience interface instead of passing a selector. (Default: None)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Initialize selectors for event filtering</span>
        <span class="k">if</span> <span class="n">selectors</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">selectors</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">selectors</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)):</span>
            <span class="n">selectors</span> <span class="o">=</span> <span class="p">[</span><span class="n">selectors</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">select_triggers</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">select_triggers</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">selectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="k">lambda</span> <span class="n">eventInfo</span><span class="p">:</span> <span class="n">eventInfo</span><span class="o">.</span><span class="n">triggerType</span> <span class="o">==</span> <span class="n">select_triggers</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">select_trigger</span> <span class="ow">in</span> <span class="n">select_triggers</span><span class="p">:</span>
                    <span class="n">selectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="k">lambda</span> <span class="n">eventInfo</span><span class="p">:</span> <span class="n">eventInfo</span><span class="o">.</span><span class="n">triggerType</span> <span class="o">==</span> <span class="n">select_trigger</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Add </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">selectors</span><span class="p">)</span><span class="si">}</span><span class="s2"> selector(s)&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_selectors</span> <span class="o">+=</span> <span class="n">selectors</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_waveforms</span><span class="o">.</span><span class="n">cache_clear</span><span class="p">()</span> <span class="c1"># reset cached waveforms</span></div>


    <span class="k">def</span> <span class="nf">__select_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Filter/select runs/datasets.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        dataset: mattak.Dataset.Dataset</span>

<span class="sd">        select: bool</span>
<span class="sd">            Return True to select an dataset, return False to reject/skip it.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># get first eventInfo</span>
        <span class="n">dataset</span><span class="o">.</span><span class="n">setEntries</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">event_info</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">eventInfo</span><span class="p">()</span>

        <span class="n">run_id</span> <span class="o">=</span> <span class="n">event_info</span><span class="o">.</span><span class="n">run</span>
        <span class="n">station_id</span> <span class="o">=</span> <span class="n">event_info</span><span class="o">.</span><span class="n">station</span>

        <span class="n">run_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__run_table</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;station == </span><span class="si">{</span><span class="n">station_id</span><span class="si">:</span><span class="s2">d</span><span class="si">}</span><span class="s2"> &amp; run == </span><span class="si">{</span><span class="n">run_id</span><span class="si">:</span><span class="s2">d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">run_info</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Run </span><span class="si">{</span><span class="n">run_id</span><span class="si">:</span><span class="s2">d</span><span class="si">}</span><span class="s2"> (station </span><span class="si">{</span><span class="n">station_id</span><span class="si">:</span><span class="s2">d</span><span class="si">}</span><span class="s2">) not in run table. Reject...&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="c1"># &quot;time_start/end&quot; is stored in the isot format. datetime is much faster than astropy (~85ns vs 55 mus).</span>
        <span class="c1"># But using datetime would mean to stip decimals because datetime can only handle mu sec precision and can not cope</span>
        <span class="c1"># with the additional decimals for ns.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time_low</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">time_end</span> <span class="o">=</span> <span class="n">astropy</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">Time</span><span class="p">(</span><span class="n">run_info</span><span class="p">[</span><span class="s2">&quot;time_end&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">time_end</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time_low</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Reject station </span><span class="si">{</span><span class="n">station_id</span><span class="si">}</span><span class="s2"> run </span><span class="si">{</span><span class="n">run_id</span><span class="si">}</span><span class="s2"> because run ended before </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_time_low</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time_high</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">time_start</span> <span class="o">=</span> <span class="n">astropy</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">Time</span><span class="p">(</span><span class="n">run_info</span><span class="p">[</span><span class="s2">&quot;time_start&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">time_start</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_time_high</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Reject station </span><span class="si">{</span><span class="n">station_id</span><span class="si">}</span><span class="s2"> run </span><span class="si">{</span><span class="n">run_id</span><span class="si">}</span><span class="s2"> because run started time after </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_time_high</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="n">run_type</span> <span class="o">=</span> <span class="n">run_info</span><span class="p">[</span><span class="s2">&quot;run_type&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">run_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__run_types</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Reject station </span><span class="si">{</span><span class="n">station_id</span><span class="si">}</span><span class="s2"> run </span><span class="si">{</span><span class="n">run_id</span><span class="si">}</span><span class="s2"> because of run type </span><span class="si">{</span><span class="n">run_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">trigger_rate</span> <span class="o">=</span> <span class="n">run_info</span><span class="p">[</span><span class="s2">&quot;trigger_rate&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">units</span><span class="o">.</span><span class="n">Hz</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__max_trigger_rate</span> <span class="ow">and</span> <span class="n">trigger_rate</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__max_trigger_rate</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Reject station </span><span class="si">{</span><span class="n">station_id</span><span class="si">}</span><span class="s2"> run </span><span class="si">{</span><span class="n">run_id</span><span class="si">}</span><span class="s2"> because trigger rate is to high (</span><span class="si">{</span><span class="n">trigger_rate</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">units</span><span class="o">.</span><span class="n">Hz</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> Hz)&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="kc">True</span>


    <span class="k">def</span> <span class="nf">__get_n_events_of_prev_datasets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dataset_idx</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Get accumulated number of events from previous datasets &quot;&quot;&quot;</span>
        <span class="n">dataset_idx_prev</span> <span class="o">=</span> <span class="n">dataset_idx</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_event_idxs_datasets</span><span class="p">[</span><span class="n">dataset_idx_prev</span><span class="p">])</span> <span class="k">if</span> <span class="n">dataset_idx_prev</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>


    <span class="k">def</span> <span class="nf">__get_dataset_for_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_idx</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Get correct dataset and set entry accordingly to event index</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        event_index: int</span>
<span class="sd">            Same as in read_event().</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">        dataset: mattak.Dataset.Dataset</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># find correct dataset</span>
        <span class="n">dataset_idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">digitize</span><span class="p">(</span><span class="n">event_idx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_event_idxs_datasets</span><span class="p">)</span>
        <span class="n">dataset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="p">[</span><span class="n">dataset_idx</span><span class="p">]</span>

        <span class="n">event_idx_in_dataset</span> <span class="o">=</span> <span class="n">event_idx</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">__get_n_events_of_prev_datasets</span><span class="p">(</span><span class="n">dataset_idx</span><span class="p">)</span>
        <span class="n">dataset</span><span class="o">.</span><span class="n">setEntries</span><span class="p">(</span><span class="n">event_idx_in_dataset</span><span class="p">)</span>  <span class="c1"># increment iterator -&gt; point to new event</span>

        <span class="k">return</span> <span class="n">dataset</span>


    <span class="k">def</span> <span class="nf">_select_events</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evtinfo</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Filter an event base on its EventInfo and the configured selectors.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        event_info: mattak.Dataset.EventInfo</span>
<span class="sd">            The event info object for one event.</span>

<span class="sd">        event_index: int</span>
<span class="sd">            Same as in read_event(). Only use for logger.info(). (Default: None)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">        skip: bool</span>
<span class="sd">            Returns False to skip/reject event, return True to keep/read event</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Processing event number </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_event_idx</span><span class="si">}</span><span class="s2"> out of total </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_n_events_total</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__counter</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># for logging</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_selectors</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">selector</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_selectors</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">selector</span><span class="p">(</span><span class="n">evtinfo</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Event </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_event_idx</span><span class="si">}</span><span class="s2"> (station </span><span class="si">{</span><span class="n">evtinfo</span><span class="o">.</span><span class="n">station</span><span class="si">}</span><span class="s2">, run </span><span class="si">{</span><span class="n">evtinfo</span><span class="o">.</span><span class="n">run</span><span class="si">}</span><span class="s2">, &quot;</span>
                                      <span class="sa">f</span><span class="s2">&quot;event number </span><span class="si">{</span><span class="n">evtinfo</span><span class="o">.</span><span class="n">eventNumber</span><span class="si">}</span><span class="s2">) did not pass a filter. Skip it ...&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__skipped</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="kc">True</span>


<div class="viewcode-block" id="readRNOGData.get_events_information"><a class="viewcode-back" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.io.RNO_G.readRNOGDataMattak.html#NuRadioReco.modules.io.RNO_G.readRNOGDataMattak.readRNOGData.get_events_information">[docs]</a>    <span class="k">def</span> <span class="nf">get_events_information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keys</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;station&quot;</span><span class="p">,</span> <span class="s2">&quot;run&quot;</span><span class="p">,</span> <span class="s2">&quot;eventNumber&quot;</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Return information of events from the EventInfo. Only information of events passing the</span>
<span class="sd">        selectors, which may have been specified, are returned.</span>

<span class="sd">        This function is useful to make a pre-selection of events before actually reading them in combination with</span>
<span class="sd">        self.read_event().</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        keys : str or list(str) or None</span>
<span class="sd">            List of the information to receive from each event. Have to match the attributes (member variables)</span>
<span class="sd">            of the mattak.Dataset.EventInfo class (examples are &quot;station&quot;, &quot;run&quot;, &quot;triggerTime&quot;, &quot;triggerType&quot;, &quot;eventNumber&quot;, ...).</span>

<span class="sd">            If None, read in all keys present in the EventInfo class.</span>
<span class="sd">            (Default: [&quot;station&quot;, &quot;run&quot;, &quot;eventNumber&quot;])</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">        data: dict</span>
<span class="sd">            Keys of the dict are the event indecies (as used in self.read_event(event_index)). The values are dictinaries</span>
<span class="sd">            them self containing the information specified with &quot;keys&quot; parameter.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">keys</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">signature</span><span class="p">(</span><span class="n">mattak</span><span class="o">.</span><span class="n">Dataset</span><span class="o">.</span><span class="n">EventInfo</span><span class="p">)</span><span class="o">.</span><span class="n">parameters</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">keys</span><span class="p">]</span>

        <span class="c1"># Read if dict is None ...</span>
        <span class="n">do_read</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_events_information</span> <span class="ow">is</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">do_read</span><span class="p">:</span>
            <span class="c1"># ... or when it does not have the desired information</span>
            <span class="n">first_event_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_events_information</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_events_information</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]]</span>

            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">first_event_info</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
                    <span class="n">do_read</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">do_read</span><span class="p">:</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_events_information</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">n_prev</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">dataset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="p">:</span>
                <span class="n">dataset</span><span class="o">.</span><span class="n">setEntries</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="n">dataset</span><span class="o">.</span><span class="n">N</span><span class="p">()))</span>

                <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">evtinfo</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">eventInfo</span><span class="p">()):</span>  <span class="c1"># returns a list</span>

                    <span class="n">event_idx</span> <span class="o">=</span> <span class="n">idx</span> <span class="o">+</span> <span class="n">n_prev</span>  <span class="c1"># event index accross all datasets combined</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_event_idx</span> <span class="o">=</span> <span class="n">event_idx</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_select_events</span><span class="p">(</span><span class="n">evtinfo</span><span class="p">):</span>
                        <span class="k">continue</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">_events_information</span><span class="p">[</span><span class="n">event_idx</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">evtinfo</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">}</span>

                <span class="n">n_prev</span> <span class="o">+=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">N</span><span class="p">()</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_events_information</span></div>

<div class="viewcode-block" id="readRNOGData.get_waveforms"><a class="viewcode-back" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.io.RNO_G.readRNOGDataMattak.html#NuRadioReco.modules.io.RNO_G.readRNOGDataMattak.readRNOGData.get_waveforms">[docs]</a>    <span class="nd">@lru_cache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_waveforms</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">apply_baseline_correction</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_events</span><span class="o">=</span><span class="mi">1000</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Return waveforms of events passing the selectors which may have been specified</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        apply_baseline_correction: str | None</span>
<span class="sd">            If not None, apply a different baseline correction algorithm than specified in the</span>
<span class="sd">            `begin` method. Otherwise (default), use the same setting as specified there.</span>

<span class="sd">        max_events : int | None</span>
<span class="sd">            The maximum number of waveforms to return.</span>

<span class="sd">            If None, return all waveforms in all datasets. Note that this may cause a crash</span>
<span class="sd">            due to memory overflow if too many waveforms are selected.</span>

<span class="sd">            Default: 1000</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">        wfs: np.array</span>
<span class="sd">            Waveforms of all &quot;selected&quot; events. The wavefroms are either calibrated or not</span>
<span class="sd">            based on the class config.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">apply_baseline_correction</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">apply_baseline_correction</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_apply_baseline_correction</span>

        <span class="n">events_waveforms</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">dataset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="p">:</span>
            <span class="n">dataset</span><span class="o">.</span><span class="n">setEntries</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="n">dataset</span><span class="o">.</span><span class="n">N</span><span class="p">()))</span>
            <span class="k">if</span> <span class="n">apply_baseline_correction</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;fit&#39;</span><span class="p">,</span> <span class="s1">&#39;approximate&#39;</span><span class="p">]:</span> <span class="c1"># we need the sampling rate</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">sampling_rate</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">eventInfo</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sampleRate</span>
                <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                    <span class="n">sampling_rate</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">sampling_rate</span><span class="p">:</span> <span class="c1"># invalid sampling rate - overwrite</span>
                    <span class="n">sampling_rate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_overwrite_sampling_rate</span>

            <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">wfs</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">iterate</span><span class="p">(</span>
                <span class="n">calibrated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_read_calibrated_data</span><span class="p">,</span>
                <span class="n">selectors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_select_events</span><span class="p">)):</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_calibrated_data</span><span class="p">:</span>
                    <span class="n">wfs</span> <span class="o">=</span> <span class="n">wfs</span> <span class="o">*</span> <span class="n">units</span><span class="o">.</span><span class="n">mV</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># wf stores ADC counts</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_to_voltage</span><span class="p">:</span>
                        <span class="c1"># convert adc to voltage</span>
                        <span class="n">wfs</span> <span class="o">=</span> <span class="n">wfs</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_adc_ref_voltage_range</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">**</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_adc_n_bits</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>

                <span class="k">if</span> <span class="n">apply_baseline_correction</span> <span class="o">==</span> <span class="s1">&#39;median&#39;</span><span class="p">:</span>
                    <span class="n">wfs</span> <span class="o">=</span> <span class="n">_baseline_correction</span><span class="p">(</span><span class="n">wfs</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">apply_baseline_correction</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;fit&#39;</span><span class="p">,</span> <span class="s1">&#39;approximate&#39;</span><span class="p">]:</span>
                    <span class="n">wfs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">([</span>
                        <span class="n">fit_block_offsets</span><span class="p">(</span>
                            <span class="n">wf</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_apply_baseline_correction</span><span class="p">,</span>
                            <span class="n">sampling_rate</span><span class="o">=</span><span class="n">sampling_rate</span><span class="p">,</span> <span class="n">return_trace</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
                        <span class="k">for</span> <span class="n">wf</span> <span class="ow">in</span> <span class="n">wfs</span><span class="p">])</span>

                <span class="n">events_waveforms</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">wfs</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">max_events</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">events_waveforms</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">max_events</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Number of waveforms </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">events_waveforms</span><span class="p">)</span><span class="si">}</span><span class="s2"> exceeds max_events. Returning first </span><span class="si">{</span><span class="n">max_events</span><span class="si">}</span><span class="s2"> waveforms only.&quot;</span>
                        <span class="p">)</span>
                    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">events_waveforms</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">events_waveforms</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">_check_for_valid_information_in_event_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_info</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if certain information (sampling rate, trigger time) in mattak.Dataset.EventInfo are valid</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        event_info: mattak.Dataset.EventInfo</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">        is_valid: bool</span>
<span class="sd">            Returns True if all information valid, false otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">isinf</span><span class="p">(</span><span class="n">event_info</span><span class="o">.</span><span class="n">triggerTime</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Event </span><span class="si">{</span><span class="n">event_info</span><span class="o">.</span><span class="n">eventNumber</span><span class="si">}</span><span class="s2"> (st </span><span class="si">{</span><span class="n">event_info</span><span class="o">.</span><span class="n">station</span><span class="si">}</span><span class="s2">, run </span><span class="si">{</span><span class="n">event_info</span><span class="o">.</span><span class="n">run</span><span class="si">}</span><span class="s2">) &quot;</span>
                                     <span class="s2">&quot;has inf trigger time. Skip event...&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__invalid</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="kc">False</span>


        <span class="k">if</span> <span class="p">(</span><span class="n">event_info</span><span class="o">.</span><span class="n">sampleRate</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">event_info</span><span class="o">.</span><span class="n">sampleRate</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_overwrite_sampling_rate</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Event </span><span class="si">{</span><span class="n">event_info</span><span class="o">.</span><span class="n">eventNumber</span><span class="si">}</span><span class="s2"> (st </span><span class="si">{</span><span class="n">event_info</span><span class="o">.</span><span class="n">station</span><span class="si">}</span><span class="s2">, run </span><span class="si">{</span><span class="n">event_info</span><span class="o">.</span><span class="n">run</span><span class="si">}</span><span class="s2">) &quot;</span>
                              <span class="sa">f</span><span class="s2">&quot;has a sampling rate of </span><span class="si">{</span><span class="n">event_info</span><span class="o">.</span><span class="n">sampleRate</span><span class="si">}</span><span class="s2"> GHz. Event is skipped ... &quot;</span>
                              <span class="sa">f</span><span class="s2">&quot;You can avoid this by setting &#39;overwrite_sampling_rate&#39; in the begin() method.&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__invalid</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="kc">True</span>


    <span class="k">def</span> <span class="nf">_get_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_info</span><span class="p">,</span> <span class="n">waveforms</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Return a NuRadioReco event</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        event_info: mattak.Dataset.EventInfo</span>
<span class="sd">            The event info object for one event.</span>

<span class="sd">        waveforms: np.array(n_channel, n_samples)</span>
<span class="sd">            Typically what dataset.wfs() returns (for one event!)</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">        evt: NuRadioReco.framework.event</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">trigger_time</span> <span class="o">=</span> <span class="n">event_info</span><span class="o">.</span><span class="n">triggerTime</span>
        <span class="c1"># only overwrite sampling rate if the stored value is invalid</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_overwrite_sampling_rate</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">event_info</span><span class="o">.</span><span class="n">sampleRate</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
            <span class="n">sampling_rate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_overwrite_sampling_rate</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sampling_rate</span> <span class="o">=</span> <span class="n">event_info</span><span class="o">.</span><span class="n">sampleRate</span>

        <span class="n">evt</span> <span class="o">=</span> <span class="n">NuRadioReco</span><span class="o">.</span><span class="n">framework</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">Event</span><span class="p">(</span><span class="n">event_info</span><span class="o">.</span><span class="n">run</span><span class="p">,</span> <span class="n">event_info</span><span class="o">.</span><span class="n">eventNumber</span><span class="p">)</span>
        <span class="n">station</span> <span class="o">=</span> <span class="n">NuRadioReco</span><span class="o">.</span><span class="n">framework</span><span class="o">.</span><span class="n">station</span><span class="o">.</span><span class="n">Station</span><span class="p">(</span><span class="n">event_info</span><span class="o">.</span><span class="n">station</span><span class="p">)</span>
        <span class="n">station</span><span class="o">.</span><span class="n">set_station_time</span><span class="p">(</span><span class="n">astropy</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">Time</span><span class="p">(</span><span class="n">trigger_time</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;unix&#39;</span><span class="p">))</span>

        <span class="n">trigger</span> <span class="o">=</span> <span class="n">NuRadioReco</span><span class="o">.</span><span class="n">framework</span><span class="o">.</span><span class="n">trigger</span><span class="o">.</span><span class="n">Trigger</span><span class="p">(</span><span class="n">event_info</span><span class="o">.</span><span class="n">triggerType</span><span class="p">)</span>
        <span class="n">trigger</span><span class="o">.</span><span class="n">set_triggered</span><span class="p">()</span>
        <span class="n">trigger</span><span class="o">.</span><span class="n">set_trigger_time</span><span class="p">(</span><span class="n">trigger_time</span><span class="p">)</span>
        <span class="n">station</span><span class="o">.</span><span class="n">set_trigger</span><span class="p">(</span><span class="n">trigger</span><span class="p">)</span>
        <span class="n">block_offsets</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_apply_baseline_correction</span> <span class="o">==</span> <span class="s1">&#39;median&#39;</span><span class="p">:</span>
            <span class="n">waveforms</span><span class="p">,</span> <span class="n">block_offsets</span> <span class="o">=</span> <span class="n">_baseline_correction</span><span class="p">(</span><span class="n">waveforms</span><span class="p">,</span> <span class="n">return_offsets</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">channel_id</span><span class="p">,</span> <span class="n">wf</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">waveforms</span><span class="p">):</span>
            <span class="n">channel</span> <span class="o">=</span> <span class="n">NuRadioReco</span><span class="o">.</span><span class="n">framework</span><span class="o">.</span><span class="n">channel</span><span class="o">.</span><span class="n">Channel</span><span class="p">(</span><span class="n">channel_id</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_calibrated_data</span><span class="p">:</span>
                <span class="n">channel</span><span class="o">.</span><span class="n">set_trace</span><span class="p">(</span><span class="n">wf</span> <span class="o">*</span> <span class="n">units</span><span class="o">.</span><span class="n">mV</span><span class="p">,</span> <span class="n">sampling_rate</span> <span class="o">*</span> <span class="n">units</span><span class="o">.</span><span class="n">GHz</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># wf stores ADC counts</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_to_voltage</span><span class="p">:</span>
                    <span class="c1"># convert adc to voltage</span>
                    <span class="n">wf</span> <span class="o">=</span> <span class="n">wf</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_adc_ref_voltage_range</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">**</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_adc_n_bits</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>

                <span class="n">channel</span><span class="o">.</span><span class="n">set_trace</span><span class="p">(</span><span class="n">wf</span><span class="p">,</span> <span class="n">sampling_rate</span> <span class="o">*</span> <span class="n">units</span><span class="o">.</span><span class="n">GHz</span><span class="p">)</span>

            <span class="n">time_offset</span> <span class="o">=</span> <span class="n">get_time_offset</span><span class="p">(</span><span class="n">event_info</span><span class="o">.</span><span class="n">triggerType</span><span class="p">)</span>
            <span class="n">channel</span><span class="o">.</span><span class="n">set_trace_start_time</span><span class="p">(</span><span class="o">-</span><span class="n">time_offset</span><span class="p">)</span>  <span class="c1"># relative to event/trigger time</span>
            <span class="k">if</span> <span class="n">block_offsets</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">channel</span><span class="o">.</span><span class="n">set_parameter</span><span class="p">(</span><span class="n">NuRadioReco</span><span class="o">.</span><span class="n">framework</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">channelParameters</span><span class="o">.</span><span class="n">block_offsets</span><span class="p">,</span> <span class="n">block_offsets</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">channel_id</span><span class="p">])</span>

            <span class="n">station</span><span class="o">.</span><span class="n">add_channel</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>

        <span class="n">evt</span><span class="o">.</span><span class="n">set_station</span><span class="p">(</span><span class="n">station</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_apply_baseline_correction</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;fit&#39;</span><span class="p">,</span> <span class="s1">&#39;approximate&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_blockoffsetfitter</span><span class="o">.</span><span class="n">remove_offsets</span><span class="p">(</span><span class="n">evt</span><span class="p">,</span> <span class="n">station</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_apply_baseline_correction</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">evt</span>


<div class="viewcode-block" id="readRNOGData.run"><a class="viewcode-back" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.io.RNO_G.readRNOGDataMattak.html#NuRadioReco.modules.io.RNO_G.readRNOGDataMattak.readRNOGData.run">[docs]</a>    <span class="nd">@register_run</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loop over all events.</span>

<span class="sd">        Yields</span>
<span class="sd">        ------</span>

<span class="sd">        evt: `NuRadioReco.framework.event.Event`</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">for</span> <span class="n">dataset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datasets</span><span class="p">:</span>
            <span class="n">dataset</span><span class="o">.</span><span class="n">setEntries</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="n">dataset</span><span class="o">.</span><span class="n">N</span><span class="p">()))</span>

            <span class="c1"># read all event infos of the entire dataset (= run)</span>
            <span class="k">for</span> <span class="n">evtinfo</span><span class="p">,</span> <span class="n">wf</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iterate</span><span class="p">(</span><span class="n">calibrated</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_read_calibrated_data</span><span class="p">,</span>
                                               <span class="n">selectors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_select_events</span><span class="p">,</span>
                                               <span class="n">max_entries_in_mem</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_max_in_mem</span><span class="p">):</span>

                <span class="n">evt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_event</span><span class="p">(</span><span class="n">evtinfo</span><span class="p">,</span> <span class="n">wf</span><span class="p">)</span>

                <span class="k">yield</span> <span class="n">evt</span></div>


<div class="viewcode-block" id="readRNOGData.get_event_by_index"><a class="viewcode-back" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.io.RNO_G.readRNOGDataMattak.html#NuRadioReco.modules.io.RNO_G.readRNOGDataMattak.readRNOGData.get_event_by_index">[docs]</a>    <span class="k">def</span> <span class="nf">get_event_by_index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_index</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Allows to read a specific event identifed by its index</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        event_index: int</span>
<span class="sd">            The index of a particluar event. The index is the chronological number from 0 to</span>
<span class="sd">            number of total events (across all datasets).</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">        evt: `NuRadioReco.framework.event.Event`</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Processing event number </span><span class="si">{</span><span class="n">event_index</span><span class="si">}</span><span class="s2"> out of total </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_n_events_total</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

        <span class="n">dataset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__get_dataset_for_event</span><span class="p">(</span><span class="n">event_index</span><span class="p">)</span>
        <span class="n">event_info</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">eventInfo</span><span class="p">()</span>  <span class="c1"># returns a single eventInfo</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_select_events</span><span class="p">(</span><span class="n">event_info</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="c1"># access data</span>
        <span class="n">waveforms</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">wfs</span><span class="p">()</span>

        <span class="n">evt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_event</span><span class="p">(</span><span class="n">event_info</span><span class="p">,</span> <span class="n">waveforms</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_time_run</span> <span class="o">+=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">t0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__counter</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">return</span> <span class="n">evt</span></div>


<div class="viewcode-block" id="readRNOGData.get_event"><a class="viewcode-back" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.io.RNO_G.readRNOGDataMattak.html#NuRadioReco.modules.io.RNO_G.readRNOGDataMattak.readRNOGData.get_event">[docs]</a>    <span class="k">def</span> <span class="nf">get_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_nr</span><span class="p">,</span> <span class="n">event_id</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Allows to read a specific event identifed by run number and event id</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>

<span class="sd">        run_nr: int</span>
<span class="sd">            Run number</span>

<span class="sd">        event_id: int</span>
<span class="sd">            Event Id</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">        evt: `NuRadioReco.framework.event.Event`</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Processing event </span><span class="si">{</span><span class="n">event_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

        <span class="n">event_infos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_events_information</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;eventNumber&quot;</span><span class="p">,</span> <span class="s2">&quot;run&quot;</span><span class="p">])</span>
        <span class="n">event_idx_ids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="n">index</span><span class="p">,</span> <span class="n">ele</span><span class="p">[</span><span class="s2">&quot;eventNumber&quot;</span><span class="p">],</span> <span class="n">ele</span><span class="p">[</span><span class="s2">&quot;run&quot;</span><span class="p">]]</span> <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">ele</span> <span class="ow">in</span> <span class="n">event_infos</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
        <span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">([</span><span class="n">event_idx_ids</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">event_id</span><span class="p">,</span> <span class="n">event_idx_ids</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">run_nr</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">mask</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not find event with id: </span><span class="si">{</span><span class="n">event_id</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">mask</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found several events with the same id: </span><span class="si">{</span><span class="n">event_id</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found several events with the same id: </span><span class="si">{</span><span class="n">event_id</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="c1"># int(...) necessary to pass it to mattak</span>
        <span class="n">event_index</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">event_idx_ids</span><span class="p">[</span><span class="n">mask</span><span class="p">,</span> <span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">dataset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__get_dataset_for_event</span><span class="p">(</span><span class="n">event_index</span><span class="p">)</span>
        <span class="n">event_info</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">eventInfo</span><span class="p">()</span>  <span class="c1"># returns a single eventInfo</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_event_idx</span> <span class="o">=</span> <span class="n">event_index</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_select_events</span><span class="p">(</span><span class="n">event_info</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="c1"># access data</span>
        <span class="n">waveforms</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">wfs</span><span class="p">()</span>

        <span class="n">evt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_event</span><span class="p">(</span><span class="n">event_info</span><span class="p">,</span> <span class="n">waveforms</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_time_run</span> <span class="o">+=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">t0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__counter</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">return</span> <span class="n">evt</span></div>


<div class="viewcode-block" id="readRNOGData.end"><a class="viewcode-back" href="../../../../../NuRadioReco/apidoc/NuRadioReco.modules.io.RNO_G.readRNOGDataMattak.html#NuRadioReco.modules.io.RNO_G.readRNOGDataMattak.readRNOGData.end">[docs]</a>    <span class="k">def</span> <span class="nf">end</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__counter</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">Read </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">__counter</span><span class="si">}</span><span class="s2"> events (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">__skipped</span><span class="si">}</span><span class="s2"> events are skipped (filtered), </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">__invalid</span><span class="si">}</span><span class="s2"> invalid events)&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">Time to initialize data sets  : </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_time_begin</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">s&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">Time to read all events       : </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_time_run</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">s&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">Time to per event             : </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_time_run</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">__counter</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">s&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">Read </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">__n_runs</span><span class="si">}</span><span class="s2"> runs, skipped </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">__skipped_runs</span><span class="si">}</span><span class="s2"> runs.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">Read </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">__counter</span><span class="si">}</span><span class="s2"> events   (skipped </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">__skipped</span><span class="si">}</span><span class="s2"> events, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">__invalid</span><span class="si">}</span><span class="s2"> invalid events)&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">Time to initialize data sets  : </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_time_begin</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">s&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">Time to read all events       : </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_time_run</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span></div></div>


<span class="c1">### we create a wrapper for readRNOGData to mirror the interface of the .nur reader</span>
<span class="k">class</span> <span class="nc">_readRNOGData_eventbrowser</span><span class="p">(</span><span class="n">readRNOGData</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Wrapper for readRNOGData for use in the eventbrowser</span>

<span class="sd">    This wrapper mirrors the interface of the .nur reader for use in the eventbrowser,</span>
<span class="sd">    and uses the lru_cache to speed up IO for parallel plots of the same event.</span>
<span class="sd">    It should probably not be used outside of the eventbrowser.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">begin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># We reduce the required amount of IO by caching individual events.</span>
        <span class="c1"># However, we need to clear the cache every time we change the file</span>
        <span class="c1"># we&#39;re reading. This is implemented here.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_event_i</span><span class="o">.</span><span class="n">cache_clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_event</span><span class="o">.</span><span class="n">cache_clear</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">begin</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_event_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">event_infos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_events_information</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="n">i</span><span class="p">[</span><span class="s1">&#39;run&#39;</span><span class="p">],</span> <span class="n">i</span><span class="p">[</span><span class="s1">&#39;eventNumber&#39;</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">event_infos</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span>

    <span class="nd">@lru_cache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_event_i</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_event_by_index</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

    <span class="nd">@lru_cache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">get_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_id</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_event</span><span class="p">(</span><span class="o">*</span><span class="n">event_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_n_events</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_n_events_total</span>

    <span class="k">def</span> <span class="nf">get_detector</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Not implemented in mattak reader&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">get_header</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Not implemented in mattak reader&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">None</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, The NuRadio Group.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>