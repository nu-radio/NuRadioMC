# Config file for the standard RNO-G data processing

# Yaml instructions:
#    - Use always NuRadioReco default units as specifed in `NuRadioReco.utilities.units`
#    - If you want to use floats with scientific notation, use the following format: 1.0e-9 (not 1e-9!)
#    - `null` is the equivalent of `None` in python

readRNOGDataMattak:
  kwargs:
    filenames: null
    # Use mattak to calibrate data on the fly. Requires calibration files to be available
    read_calibrated_data: False
    # Do not apply a baseline correction in the read module, do it afterwards
    apply_baseline_correction: none
    # Only used when read_calibrated_data==False, performs a linear voltage calibration with hardcoded values
    convert_to_voltage: True
    # Can be used instead of defining a selector (only for triggers)
    select_triggers: null
    # If true, and if the RunTable database is available select runs based on the following criteria
    select_runs: False
    # Only use runs of a certain run type
    run_types: ["physics"]
    # Only use runs with a maximum trigger rate of 1 Hz
    max_trigger_rate: 2.0e-9
    # This might be necessary to read older files which have an invalid value stored as sampling rate
    overwrite_sampling_rate: 3.2

detector:
  kwargs:
    # Specify a path to the detector description file. If null (None in python),
    #the detector description will be queried from the hardware database.
    detector_file: null
    # If you want to query information only from a specific station,
    # you can specify the station ID here.
    select_stations: null

channelResampler:
  use: True
  kwargs:
    sampling_rate: 5  # GHz

channelAddCableDelay:
  use: True

hardwareResponseIncorporator:
  use: True
  kwargs:
    mode: 'phase_only'

channelCWNotchFilter:
  use: False
  kwargs:

channelBandPassFilter:
  use: True
  kwargs:
    passband: [0.1, 0.6]  # GHz
    filter_type: 'butter'
    order: 10

eventWriter:
  kwargs:
    mode: null
    filename: rnog_output_test.nur

channelBlockOffsetFitter:
  use: True
  kwargs:
    mode: 'auto'

channelGlitchDetector:
  use: True
  begin:
    kwargs:
      max_deviation: 2  # 2 V = 2000mV